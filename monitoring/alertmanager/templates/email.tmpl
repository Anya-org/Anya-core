{{ define "email.anya.html" }}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Anya Core - {{ .CommonLabels.alertname }} - {{ .Status | toUpper }}</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .header { background-color: {{ if eq .Status "firing" }}#f8d7da{{ else }}#d4edda{{ end }}; padding: 10px; margin-bottom: 20px; }
        .alert { border-left: 4px solid {{ if eq .Status "firing" }}#dc3545{{ else }}#28a745{{ end }}; padding: 10px; margin: 10px 0; background: #f8f9fa; }
        .label { font-weight: bold; }
        .value { font-family: monospace; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <div class="header">
        <img src="https://raw.githubusercontent.com/your-org/anya-core/main/docs/static/img/logo.png" alt="Anya Core Logo" style="max-width: 200px; margin-bottom: 15px;">
        <h2>Anya Core - {{ .CommonLabels.alertname }} - {{ .Status | toUpper }}</h2>
        <p>{{ .CommonAnnotations.summary }}</p>
        <p><strong>Environment:</strong> {{ .CommonLabels.environment | default "production" | title }}</p>
    </div>

    {{ if .Alerts }}
    <div class="alerts">
        {{ range .Alerts }}
        <div class="alert">
            <h3>{{ .Labels.alertname }} - {{ .Status | toUpper }}</h3>
            <p><span class="label">Status:</span> <span class="value">{{ .Status | toUpper }}</span></p>
            <p><span class="label">Severity:</span> <span class="value">{{ .Labels.severity }}</span></p>
            <p><span class="label">Instance:</span> <span class="value">{{ .Labels.instance }}</span></p>
            <p><span class="label">Summary:</span> <span class="value">{{ .Annotations.summary }}</span></p>
            <p><span class="label">Description:</span> <span class="value">{{ .Annotations.description }}</span></p>
            <p><span class="label">Starts at:</span> <span class="value">{{ .StartsAt }}</span></p>
            {{ if eq .Status "resolved" }}
            <p><span class="label">Ends at:</span> <span class="value">{{ .EndsAt }}</span></p>
            {{ end }}
        </div>
        {{ end }}
    </div>
    {{ end }}

    <div class="details">
        <h3>Alert Details</h3>
        <table>
            <tr>
                <th>Label</th>
                <th>Value</th>
            </tr>
            {{ range $key, $value := .CommonLabels }}
            <tr>
                <td class="label">{{ $key }}</td>
                <td class="value">{{ $value }}</td>
            </tr>
            {{ end }}
        </table>
    </div>

    <div class="footer">
        <hr style="border: 0; height: 1px; background: #ddd; margin: 20px 0;">
        <p style="color: #666; font-size: 12px; text-align: center;">
            This alert was generated by Anya Core Monitoring System<br>
            <strong>Environment:</strong> {{ .CommonLabels.environment | default "production" | title }} | 
            <strong>Node:</strong> {{ .CommonLabels.instance | default "unknown" }}<br>
            Generated at: {{ .StartsAt.Format "2006-01-02 15:04:05 UTC" }}
        </p>
        <p style="text-align: center; margin-top: 10px;">
            <a href="https://github.com/your-org/anya-core" style="color: #3498db; text-decoration: none;">Documentation</a> | 
            <a href="https://status.anyacore.org" style="color: #3498db; text-decoration: none;">Status Page</a> | 
            <a href="mailto:botshelomokoka+monitoring@gmail.com" style="color: #3498db; text-decoration: none;">Support</a>
        </p>
    </div>
</body>
</html>
{{ end }}
